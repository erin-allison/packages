# Maintainer: Erin Allison <eallison@andrettikarting.com>

pkgname=ea-common-meta
pkgver=0.0.3
pkgrel=1
pkgdesc="Common packages for all computers."
arch=('x86_64')
depends=()
install=$pkgname.install
source=('ea-personal.crt'
	'fish.tar')

sha256sums=('d88fa9fae087fe4819cb274e39c8931d53aa85766d58add1c37f73b1122ccee1'
	'8ce06e9b244f2bb42cb311af2e9e70a55303556ffc368924cdbdc4e12b02b5b4')

package() {
	# Shell
	depends+=('diff-so-fancy')
	depends+=('fish')
	depends+=('fish-fzf' 'fd' 'bat')
	depends+=('jump')
	depends+=('neofetch')
	depends+=('starship')

	install -Dm644 "$srcdir"/fish/conf/alias_git.fish "$pkgdir"/usr/share/fish/vendor_conf.d/alias_git.fish
	install -Dm644 "$srcdir"/fish/conf/alias_ls.fish "$pkgdir"/usr/share/fish/vendor_conf.d/alias_ls.fish
	install -Dm644 "$srcdir"/fish/conf/colors.fish "$pkgdir"/usr/share/fish/vendor_conf.d/colors.fish
	install -Dm644 "$srcdir"/fish/conf/editor.fish "$pkgdir"/usr/share/fish/vendor_conf.d/editor.fish
	install -Dm644 "$srcdir"/fish/conf/jump.fish "$pkgdir"/usr/share/fish/vendor_conf.d/jump.fish
	install -Dm644 "$srcdir"/fish/conf/starship.fish "$pkgdir"/usr/share/fish/vendor_conf.d/starship.fish

	install -Dm644 "$srcdir"/fish/functions/fish_greeting.fish "$pkgdir"/usr/share/fish/vendor_functions.d/fish_greeting.fish

	# AUR helper
	depends+=('paru')

	# dotfiles manager
	depends+=('yadm')

	install -Dm644 "$srcdir"/ea-personal.crt "$pkgdir"/usr/share/ca-certificates/trust-source/anchors/ea-personal.crt
	depends+=('htop' 'sudo' 'openssh' 'nano' 'bind')
}
